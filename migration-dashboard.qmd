---
title: Composition API Migration Dashboard
format:
  dashboard:
    logo: images/vuejs-forward-logo.png
    nav-buttons:
      - icon: github
        href: https://github.com/mcgaffin/composition-api-migration
        target: _parent
---

```{r setup}
source("R/github_utils.R")
```

```{r composition-components}
composition_results <- request_all_pages("script%20setup", language = "Vue")

composition_count <- composition_results$count
composition_components <- composition_results$items |>
  map(get_names_from_git_response)
```

```{r option-components}
option_results <- request_all_pages("export%20default%20{", language = "Vue")

option_count <- option_results$count
option_components <- option_results$items |>
  map(get_names_from_git_response)
```

## Row

```{r}
#| content: valuebox
#| title: "Migration Progress"
#| icon: speedometer
#| color: primary

glue('{calculate_progress(composition_count, option_count)}%')
```

```{r}
#| content: valuebox
#| title: "Composition API Components"
#| icon: check-lg
#| color: success

composition_count
```

```{r}
#| content: valuebox
#| title: "Options API Components"
#| icon: hourglass
#| color: warning

option_count
```

## Row {.tabset}

```{r}
#| title: "Composition API"

composition_components |> render_table(column_name = "Components")
```

```{r}
#| title: Options API

option_components |> render_table(column_name = "Components")
```
